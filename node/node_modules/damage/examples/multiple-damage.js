var Damage = require('../');

Damage.env({
	testObj: {},
});

Damage.prepare(function () {
	env.testClass = function () {};
	for (var i=0;i<1000;i++)
		env.testObj[i]=function () { return this };
	_.extend(env.testClass.prototype,env.testObj); 
});

var damageOf = Damage();

damageOf('using new prototype',function () {

	new env.testClass;
	done();

},10000);

damageOf('using Object.create',function () {
  
  	Object.create(env.testObj);
	done();
  
},10000);